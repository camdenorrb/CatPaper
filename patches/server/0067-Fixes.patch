From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: camdenorrb <me@12oclock.dev>
Date: Mon, 26 Dec 2022 18:02:05 -0600
Subject: [PATCH] Fixes


diff --git a/build.gradle.kts b/build.gradle.kts
index 7e05bdc0c1a9d738f7662aa6231291e0668640e8..81d3e5442094df9ecacd6036801b65ca31e7da25 100644
--- a/build.gradle.kts
+++ b/build.gradle.kts
@@ -194,7 +194,9 @@ fun TaskContainer.registerRunTask(
     }
 
     val memoryGb = providers.gradleProperty("paper.runMemoryGb").getOrElse("2")
-    val modifiedJvmArgs = jvmArgs ?: arrayListOf()
+
+    @Suppress("USELESS_ELVIS", "UNNECESSARY_SAFE_CALL")
+    val modifiedJvmArgs = jvmArgs?.toMutableList() ?: mutableListOf()
     modifiedJvmArgs.addAll(listOf("-Xms${memoryGb}G", "-Xmx${memoryGb}G"))
     jvmArgs = modifiedJvmArgs
 
diff --git a/src/main/java/net/minecraft/server/level/ServerLevel.java b/src/main/java/net/minecraft/server/level/ServerLevel.java
index 9201a0e1406ba96891a5e196046863a3000a8627..3e0ce2e1f7e515e34d8bedf9dbbf2411b0d57d74 100644
--- a/src/main/java/net/minecraft/server/level/ServerLevel.java
+++ b/src/main/java/net/minecraft/server/level/ServerLevel.java
@@ -13,7 +13,10 @@ import it.unimi.dsi.fastutil.ints.IntArrayList;
 import it.unimi.dsi.fastutil.longs.LongSet;
 import it.unimi.dsi.fastutil.longs.LongSets;
 import it.unimi.dsi.fastutil.objects.Object2IntMap.Entry;
-import it.unimi.dsi.fastutil.objects.*;
+import it.unimi.dsi.fastutil.objects.Object2IntOpenHashMap;
+import it.unimi.dsi.fastutil.objects.ObjectArrayList;
+import it.unimi.dsi.fastutil.objects.ObjectIterator;
+import it.unimi.dsi.fastutil.objects.ObjectLinkedOpenHashSet;
 import net.minecraft.CrashReport;
 import net.minecraft.core.*;
 import net.minecraft.core.particles.ParticleOptions;
@@ -104,6 +107,26 @@ import org.bukkit.event.entity.CreatureSpawnEvent;
 import org.bukkit.event.server.MapInitializeEvent;
 import org.bukkit.event.weather.LightningStrikeEvent;
 import org.bukkit.event.world.TimeSkipEvent;
+import org.jetbrains.annotations.Nullable;
+import org.slf4j.Logger;
+import org.spigotmc.ActivationRange;
+
+import javax.annotation.Nonnull;
+import java.io.BufferedWriter;
+import java.io.IOException;
+import java.io.Writer;
+import java.nio.file.Files;
+import java.nio.file.Path;
+import java.util.*;
+import java.util.concurrent.Executor;
+import java.util.concurrent.ForkJoinPool;
+import java.util.concurrent.ForkJoinTask;
+import java.util.concurrent.ForkJoinWorkerThread;
+import java.util.function.BooleanSupplier;
+import java.util.function.Function;
+import java.util.function.Predicate;
+import java.util.stream.Collectors;
+import java.util.stream.Stream;
 // CraftBukkit end
 
 public class ServerLevel extends Level implements WorldGenLevel {
